# Airtable Database Schemas
Complete documentation for the Environmental Data Management Airtable database structure used by Audtheia's AI-powered environmental monitoring system.

---

## Database Overview

The **Environmental Data Management** Airtable base consists of three interconnected tables that store research-grade ecological datasets generated by the RTSP Analyst and Daily Reporter N8N workflows:

1. **Species Observations** (62 columns) - Comprehensive species-level data
2. **Environmental Mapping** (10 columns) - Geospatial and cartographic data
3. **Daily Reports** (3 columns) - Generated PDF reports and metadata

---

## Table 1: Species Observations

**Purpose:** Store comprehensive ecological observations with 72 data points generated by 9 specialized AI agents.

**Total Columns:** 62  
**Primary Key:** Observation ID  
**Generated By:** RTSP Analyst N8N Workflow

### Column Definitions

#### Taxonomic & Identification (Columns 1-5)
**AI Agent:** Systematics Phenologist

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Species Name** | Short Text | Common name of observed species | "Rufous-tailed Hummingbird" |
| **Species Taxonomy** | Short Text | Complete taxonomic classification | "Kingdom: Animalia; Phylum: Chordata; Class: Aves; Order: Apodiformes; Family: Trochilidae; Genus: Amazilia; Species: Amazilia tzacatl" |
| **Observation ID** | Short Text | Unique identifier for observation | "OBS-12345" |
| **Observation Time** | Number | Unix timestamp of observation | 1732723935 |
| **Total Species Count** | Number | Number of individuals observed | 1, 5, 18 |

---

#### Spatiotemporal Context (Columns 6-7)
**AI Agents:** Memory Manager, Systematics Phenologist

| Column | Type | Description | Valid Options |
|--------|------|-------------|---------------|
| **Same Specimen** | Checkbox | Indicates if same individual observed previously | Checked/Unchecked |
| **Observation Season** | Single Select | Season of observation | Winter, Spring, Summer, Autumn |

---

#### Geographic Data (Columns 8-12)
**AI Agent:** GIS Data Manager

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Location** | Short Text | Specific location name | "Magueyes Island Marine Sciences Research Station, Lajas Municipality, Puerto Rico" |
| **Region** | Short Text | Geographic region | "Northwestern Caribbean", "Central Pacific" |
| **Country** | Short Text | Country name | "United States", "Costa Rica" |
| **Geographic Confidence** | Single Select | Accuracy of geographic data | High, Medium, Low, Unknown |
| **GIS Analysis** | Long Text | Comprehensive geographic analysis | Biogeographic province, conservation area proximity, habitat fragmentation metrics, climate refugia potential |

---

#### Environmental Conditions (Columns 13-15)
**AI Agents:** EnviroStatus Manager, Systematics Phenologist

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Environmental Conditions** | Long Text | Overall environmental assessment | Water clarity, substrate composition, ecosystem stability indicators |
| **Weather Conditions** | Long Text | Current weather observations | Temperature trends, precipitation patterns, atmospheric conditions |
| **Habitat Type Classification** | Single Select | Primary habitat category | Marine, Freshwater, Estuarine, Terrestrial, Mixed, Unknown |

---

#### Geographic & Marine Zone Data (Columns 16-17)
**AI Agent:** GIS Data Manager

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Geographic Zone** | Short Text | Biogeographic zone | "Tropical Marine Zone (MEOW Province #11)", "Temperate Rainforest" |
| **Marine Zone** | Short Text | Marine habitat classification | "Neritic Coral Reef", "Oceanic Pelagic", "Intertidal Rocky Shore" |

---

#### Marine Climate Data (Columns 18-23)
**AI Agent:** Marine Climate Search & Terrestrial Climate Search

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Air-Sea Interface (SST, Salinity, Wind)** | Long Text | Surface marine conditions | "SST: 30.1°C, Salinity: 35 ppt, Wind: 1.06 m/s SW" |
| **Atmospheric Pressure** | Number | Pressure in hPa | 1013.9 |
| **Ocean Current Velocity-Direction** | Long Text | Current data | "0.083 m/s northeast" |
| **Substrate Type** | Single Select | Bottom substrate | Sand, Rock, Coral, Mud, Soil, Gravel, Seagrass, Algae, Mixed, Unknown |
| **Water Depth** | Number | Depth in meters | 3.0, 15.5, 45.0 |
| **Wave Height** | Number | Wave height in meters | 0.6, 1.2, 2.5 |

---

#### Terrestrial Climate Data (Columns 24-32)
**AI Agents:** Terrestrial Climate Search, Marine Climate Search

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Terrestrial Biome** | Short Text | Biome classification | "Tropical Rainforest", "Temperate Grassland" |
| **Air Temperature (Celsius)** | Number | Temperature in °C | 28.5, 15.2 |
| **Soil Temperature (Celsius)** | Number | Soil temperature in °C | 26.3, 12.8 |
| **Precipitation (mm)** | Number | Rainfall in mm | 45.2, 0.0 |
| **Humidity %** | Number | Relative humidity | 78, 55 |
| **Elevation (Meters)** | Number | Elevation above sea level | 450, 1250 |
| **Land Cover Type** | Single Select | Dominant land cover | Snow/Ice, Water, Wetland, Grassland, Shrubland, Barren, Cropland, Urban, Forest, Unknown |
| **Soil Type** | Single Select | Soil classification | Clay, Sand, Loam, Silt, Peat, Rocky, Mixed, Unknown |
| **Vegetation Index** | Number | NDVI score (0-1) | 0.85, 0.42 |

---

#### Chronobiological Data (Columns 33-34)
**AI Agent:** Systematics Phenologist

| Column | Type | Description | Valid Options |
|--------|------|-------------|---------------|
| **Chronobiological Observations** | Multiple Select | Activity patterns (3 selections) | **Activity Period:** Diurnal, Nocturnal, Crepuscular, Unknown<br>**Behavioral Context:** Feeding, Resting, Sessile, Social, Reproductive, Territorial, Migration, Invasive Species<br>**Circadian Phase:** Activity Onset, Activity Offset, Acrophase, Arrhythmic/Unknown |
| **Chronobiology Notes** | Long Text | Detailed chronobiological analysis | Activity timing, circadian patterns, behavioral context, confidence level |

---

#### Phenological Data (Columns 35-36)
**AI Agent:** Systematics Phenologist

| Column | Type | Description | Valid Options |
|--------|------|-------------|---------------|
| **Phenological Observations** | Multiple Select | Life cycle timing (3 selections) | **Seasonal Timing:** Expected, Early, Late, Unusual, Unknown<br>**Life Cycle Stage:** Juvenile, Adult, Reproductive, Migrating, Dormant, Unknown<br>**Breeding Season:** Pre-breeding, Breeding, Post-breeding, Non-breeding, Unknown |
| **Phenology Notes** | Long Text | Detailed phenological assessment | Seasonal timing analysis, life stage assessment, breeding season alignment, climate correlations |

---

#### Biodiversity Data (Columns 37-45)
**AI Agent:** Biodiversity Intelligence

| Column | Type | Description | Valid Options / Example Values |
|--------|------|-------------|-------------------------------|
| **GBIF Occurrence Count** | Number | Total GBIF records for species | 1921, 2488, 45678 |
| **IUCN Conservation Status** | Single Select | IUCN Red List category | LC (Least Concern), NT (Near Threatened), VU (Vulnerable), EN (Endangered), CR (Critically Endangered), EW (Extinct in Wild), EX (Extinct), DD (Data Deficient), NE (Not Evaluated) |
| **Species Abundance Trend** | Single Select | Population trend | Increasing, Stable, Decreasing, Fluctuating, Unknown |
| **Species Rarity Score** | Number | Rarity metric (0-1) | 0.23 (common), 0.87 (rare) |
| **Species Rarity Reason** | Long Text | Justification for rarity score | Population distribution, occurrence data, regional threats |
| **Endemic Species** | Checkbox | Is species endemic to region | Checked/Unchecked |
| **Breeding Season Match** | Checkbox | Observation during breeding season | Checked/Unchecked |
| **Migration Route Overlap** | Checkbox | Observation on migration route | Checked/Unchecked |
| **Ecological Role** | Long Text | Species function in ecosystem | "Pollinator", "Apex predator", "Filter feeder", "Habitat engineer" |

---

#### Conservation & Threat Assessment (Columns 46-52)
**AI Agent:** EnviroStatus Manager

| Column | Type | Description | Valid Options |
|--------|------|-------------|---------------|
| **Environmental Conservation Status** | Long Text | Protected area status | Reserve type, IUCN category, protection level, habitat coverage |
| **Threat Indicators** | Long Text | Identified threats | Tourism pressure, development, pollution, climate impacts |
| **Pollution Risk Level** | Single Select | Pollution assessment | None, Low, Moderate, High, Severe, Unknown |
| **Algal Bloom Risk** | Single Select | Harmful algal bloom risk | None, Low, Moderate, High, Active Bloom, Unknown |
| **Overfishing Pressure** | Single Select | Fishing pressure level | None, Low, Moderate, High, Overexploited, Unknown |
| **Invasive Species Risk** | Single Select | Invasive species threat | None, Low, Moderate, High, Established, Unknown |
| **Deforestation Risk** | Single Select | Deforestation threat | None, Low, Moderate, High, Active Clearing, Unknown |

---

#### Habitat Assessment (Columns 53-60)
**AI Agent:** Habitat Assessment

| Column | Type | Description | Valid Options / Range |
|--------|------|-------------|----------------------|
| **Canopy Cover Percent** | Number | Forest canopy coverage | 0-100% |
| **Habitat Complexity** | Number | Structural complexity score | 0-100 |
| **Habitat Connectivity** | Number | Connectivity index | 0-100 |
| **Anthropogenic Disturbance** | Single Select | Human impact level | None, Low, Moderate, High, Severe, Unknown |
| **Geopolitical Stability** | Single Select | Regional stability | Stable, Generally Stable, Moderate Risk, High Risk, Conflict Zone, Unknown |
| **Habitat Quality Score** | Number | Overall habitat quality | 0-100 |
| **Ecosystem Health Score** | Number | Ecosystem health metric | 0-100 |
| **Conservation Timing Priority** | Single Select | Urgency of conservation action | Low, Medium, High, Critical, Unknown |

---

#### Research Metadata (Columns 61-62)

| Column | Type | Description | Valid Options |
|--------|------|-------------|---------------|
| **Research Value** | Number | Scientific research value score | 0-100 |
| **Monitoring Frequency** | Single Select | Recommended monitoring schedule | Daily, Weekly, Monthly, Quarterly, Annually, As Needed, Unknown |

---

## Table 2: Environmental Mapping

**Purpose:** Store geospatial data and satellite imagery for each observation.

**Total Columns:** 10  
**Primary Key:** Observation ID (links to Species Observations)  
**Generated By:** Cartography Mapper AI Agent (RTSP Analyst Workflow)

### Column Definitions

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Species Name** | Short Text | Species observed | "Rufous-tailed Hummingbird" |
| **Observation ID** | Short Text | Links to Species Observations | "OBS-12345" |
| **Map Overview URL** | URL | Satellite image (zoom 10) | `https://api.mapbox.com/styles/v1/mapbox/satellite-v9/static/-84.567,10.234,10,0/600x400` |
| **Map Detail URL** | URL | Satellite image (zoom 12) | `https://api.mapbox.com/styles/v1/mapbox/satellite-v9/static/-84.567,10.234,12,0/600x400` |
| **Map Closeup URL** | URL | Satellite image (zoom 14) | `https://api.mapbox.com/styles/v1/mapbox/satellite-v9/static/-84.567,10.234,14,0/600x400` |
| **Center Coordinates** | Long Text | Latitude, longitude | "10.234, -84.567" |
| **Bathymetry Available** | Checkbox | Marine depth data available | Checked/Unchecked |
| **Research Stations Marked** | Checkbox | Research stations on map | Checked/Unchecked |
| **Map Generation Date** | Date | When maps were generated | "11/27/2025 2:15pm" |
| **Projection System** | Short Text | Map projection used | "Web Mercator", "WGS 84" |

---

## Table 3: Daily Reports

**Purpose:** Store generated PDF reports and metadata.

**Total Columns:** 3  
**Primary Key:** Report Name  
**Generated By:** Daily Reporter N8N Workflow

### Column Definitions

| Column | Type | Description | Example Values |
|--------|------|-------------|----------------|
| **Report Name** | Short Text | Report identifier | "Audtheia Daily Environmental Report - 2025-11-27" |
| **Report PDF URL** | URL | PDF download link | `https://pub-cdn.apitemplate.io/2025/11/abc123.pdf` |
| **Date Uploaded** | Date | Report generation timestamp | "11/27/2025 12:15am" |

---

## Data Relationships

### Primary Relationships

```
Species Observations (1) ←→ (1) Environmental Mapping
    Linked by: Observation ID

Species Observations (Many) → (1) Daily Reports
    Daily Reports aggregate multiple observations
```

### Data Flow

```
Roboflow RTSP Workflow
    ↓ (Detection data every 15 seconds)
RTSP Analyst N8N Workflow (9 AI agents)
    ↓ (72 data points generated)
Species Observations + Environmental Mapping Tables
    ↓ (Aggregated daily at midnight UTC)
Daily Reporter N8N Workflow (5 AI agents)
    ↓ (PDF report generated)
Daily Reports Table
```

---

## Data Quality Metrics

### Species Observations Quality Score

Calculated as weighted average:

```
Quality Score = (Data Completeness × 0.40) +
                (API Success Rate × 0.30) +
                (Detection Confidence × 0.20) +
                (Validation Checks × 0.10)
```

**Target:** ≥85% for research-grade data

### Validation Rules

**Geographic Coordinates:**
- Latitude: -90 to +90
- Longitude: -180 to +180

**IUCN Status:**
- Must be valid category (LC, NT, VU, EN, CR, EW, EX, DD, NE)

**Rarity Score:**
- Range: 0.0 (common) to 1.0 (extremely rare)

**Timestamps:**
- ISO 8601 format required

**Numeric Ranges:**
- Temperature: -50°C to +60°C
- Humidity: 0-100%
- Scores: 0-100

---

## Example CSV Files

Three example CSV files are provided in this directory:

1. **`species-observations-example.csv`** - Sample data showing all 62 columns
2. **`environmental-mapping-example.csv`** - Sample geospatial data (10 columns)
3. **`daily-reports-example.csv`** - Sample report metadata (3 columns)

These files contain **sanitized example data** for demonstration purposes. They show:
- Complete column structure
- Realistic data formats
- Valid option selections
- Proper data relationships

---

## Usage Instructions

### Importing to Airtable

**Method 1: Manual Import**
1. Create new Airtable base named "Environmental Data Management"
2. Create three tables: Species Observations, Environmental Mapping, Daily Reports
3. Import each CSV file to corresponding table
4. Configure column types according to definitions above
5. Set up relationships between tables

**Method 2: Automated Setup (N8N)**
1. Use provided N8N workflows (RTSP Analyst, Daily Reporter)
2. Configure Airtable credentials
3. Set Base ID and Table IDs in environment variables
4. Activate workflows to begin automatic data population

### Accessing Data

**Via Airtable Interface:**
- Navigate to base: `https://airtable.com/[BASE_ID]`
- Use Grid View for spreadsheet-style browsing
- Use Gallery View for image-focused browsing (Environmental Mapping)

**Via Airtable API:**
```bash
# Get all species observations
curl "https://api.airtable.com/v0/[BASE_ID]/Species%20Observations" \
  -H "Authorization: Bearer [YOUR_TOKEN]"
```

**Via CSV Export:**
1. Open table in Airtable
2. Click "..." menu (top-right)
3. Select "Download CSV"
4. Open in Excel, Google Sheets, or R/Python

---

## Data Standards Compliance

### FAIR Principles

**Findable:**
- ✓ Unique Observation IDs
- ✓ Rich metadata in all tables
- ✓ Taxonomic classification standardized

**Accessible:**
- ✓ CSV export available
- ✓ API access via Airtable
- ✓ Open formats (CSV, JSON)

**Interoperable:**
- ✓ Standard schemas (Darwin Core compatible)
- ✓ ISO 8601 timestamps
- ✓ WGS 84 coordinate system

**Reusable:**
- ✓ Clear column definitions
- ✓ Data quality scores
- ✓ Comprehensive documentation

### Scientific Database Integration

Data sourced from:
- **GBIF** (Global Biodiversity Information Facility)
- **iNaturalist** (Community observations)
- **IUCN Red List** (Conservation status)
- **NOAA** (Marine and atmospheric data)
- **Open-Meteo** (Weather and climate)
- **Mapbox** (Satellite imagery)
- **SOILGRIDS** (Soil data)
- **API Ninjas** (Species characteristics)

---

## Citation

When using this data in publications, please cite:

```
Audtheia Environmental Monitoring System. (2025). Species Observations 
and Environmental Mapping Database [Data set]. Retrieved from 
https://github.com/AudtheiaOfficial/audtheia-environmental-monitoring
```

---

## Support

**For Issues:**
- GitHub: https://github.com/AudtheiaOfficial/audtheia-environmental-monitoring/issues
- Review N8N workflow logs
- Check Airtable API documentation: https://airtable.com/api

**For Data Questions:**
- Review agent documentation in workflow READMEs
- Check data quality flags in Species Observations
- Verify API source documentation

---

**Maintained by:** Andy Portalatin  
**Last Updated:** December 2, 2025  
**Version:** 1.0
